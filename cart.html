<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        /* ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß */
        .main-header {
            display: flex;
            align-items: center;
            justify-content: center;
            background: #333;
            color: white;
            padding: 15px;
            font-size: 24px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏°‡∏Ç‡∏µ‡∏î */
        .menu-button {
            font-size: 30px;
            background: none;
            border: none;
            cursor: pointer;
            position: absolute;
            left: 15px;
            color: white;
        }

        /* ‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á */
        .menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background: #222;
            padding-top: 60px;
            transition: 0.3s ease-in-out;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
        }

        .menu a {
            display: flex;
            align-items: center;
            padding: 15px;
            text-decoration: none;
            color: white;
            font-size: 18px;
            border-bottom: 1px solid #444;
        }

        .menu a:hover {
            background: #575757;
        }

        .menu a i {
            margin-right: 10px;
        }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π */
        .close-button {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 30px;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
        }

        /* ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
        #cartItems {
            max-width: 600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        #cartItems div {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        #cartItems img {
            border-radius: 5px;
            margin-right: 10px;
        }

        /* ‡∏õ‡∏∏‡πà‡∏° */
        .button {
            background: #0275d8;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 16px;
        }

        .button:hover {
            background: #025aa5;
        }

        .button.delete {
            background: red;
        }

        .button.delete:hover {
            background: darkred;
        }

        .cart-buttons {
            text-align: center;
            margin-top: 20px;
        }
    </style>
    <script>
        function openMenu() {
            document.getElementById("menu").style.left = "0";
        }

        function closeMenu() {
            document.getElementById("menu").style.left = "-250px";
        }

        function loadCart() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartHTML = "";
            let totalPrice = 0;  // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏£‡∏ß‡∏°

            cart.forEach((item, index) => {
                let itemPrice = Number(item.price);  // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
                totalPrice += itemPrice;

                cartHTML += `<div>
                    <img src="${item.image}" width="50">
                    <b>${item.name}</b> - ${itemPrice} ‡∏ö‡∏≤‡∏ó
                    <button class="button delete" onclick="removeFromCart(${index})">‡∏•‡∏ö</button>
                </div>`;
            });

            document.getElementById("cartItems").innerHTML = cartHTML;
            document.getElementById("totalPrice").innerText = `‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${totalPrice} ‡∏ö‡∏≤‡∏ó`;
        }

        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart();
        }

        function clearCart() {
            localStorage.removeItem("cart");
            loadCart();
        }

        function checkout() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            if (cart.length === 0) {
                alert("‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤!");
                return;
            }

            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô localStorage ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ order.html
            localStorage.setItem("orderData", JSON.stringify(cart));
            window.location.href = "order.html";
        }

        document.addEventListener("DOMContentLoaded", loadCart);
    </script>
</head>
<body>

<header class="main-header">
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏°‡∏Ç‡∏µ‡∏î -->
    <button class="menu-button" onclick="openMenu()">‚ò∞</button>
    <h2>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
</header>

<!-- ‡πÄ‡∏°‡∏ô‡∏π -->
<div class="menu" id="menu">
    <button class="close-button" onclick="closeMenu()">√ó</button>
    <a href="products.html"><i>üè†</i> ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
</div>

<!-- ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
<div id="cartItems"></div>

<!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° -->
<div class="cart-buttons">
    <h3 id="totalPrice">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 0 ‡∏ö‡∏≤‡∏ó</h3>
    <button class="button" onclick="clearCart()">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
    <button class="button" onclick="checkout()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

</body>
</html>